import "dotenv/config";

import { join } from "node:path";
{{#ifEquals dbType  "turso"}}
import { PrismaLibSQL } from "@prisma/adapter-libsql";
{{/ifEquals}}
{{#ifEquals dbType  "postgres"}}
import { PrismaPg } from "@prisma/adapter-pg";
{{/ifEquals}}
import { defineConfig } from "prisma/config";

export default defineConfig({
  migrations: {
    path: join("prisma", "migrations"),
    seed: `tsx ${join("src", "database", "seed.ts")}`,
  },
  schema: join("prisma", "schema.prisma"),
{{#ifEquals dbType  "turso"}}
  async adapter() {
    return new PrismaLibSQL({
      url: process.env.DATABASE_URL!,
        authToken: process.env.DATABASE_AUTH_TOKEN,
        syncUrl: process.env.DATABASE_SYNC_URL,
      });
    },
{{/ifEquals}}
{{#ifEquals dbType  "postgres"}}
    async adapter() {
      return new PrismaPg({
        connectionString: process.env.DATABASE_URL!,
      });
    },
{{/ifEquals}}
});
